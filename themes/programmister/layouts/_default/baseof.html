<!DOCTYPE html>
<html lang="ru" data-theme="dracula">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ .Title }} | {{ .Site.Title }}</title>
    <!-- –ú–µ—Ç–∞-–æ–ø–∏—Å–∞–Ω–∏–µ -->
    <meta name="description" content="{{ if .Description }}{{ .Description }}{{ else }}{{ .Site.Params.description }}{{ end }}">
    
    <!-- –î—Ä—É–≥–∏–µ –º–µ—Ç–∞—Ç–µ–≥–∏ -->
    <meta property="og:title" content="{{ .Title }}">
    <meta property="og:description" content="{{ if .Description }}{{ .Description }}{{ else }}{{ .Site.Params.description }}{{ end }}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ .Permalink }}">
    <meta property="og:image" content="{{ .Site.BaseURL }}images/og-image.jpg">
    <meta property="og:site_name" content="{{ .Site.Title }}">
    <meta name="twitter:card" content="summary_large_image">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ "css/style.css" | absURL }}">
</head>
<body>
    <div class="container">
        <header>
            <nav>
                <a href="{{ .Site.BaseURL }}"><strong>{{ .Site.Title }}</strong></a>
    
                <div class="nav-links">
                  <a href="{{ "about" | relURL }}">–û —Å–∞–π—Ç–µ</a>
                  <a href="{{ "tags" | relURL }}">–¢–µ–≥–∏</a>
                  <a href="{{ "index.xml" | relURL }}" title="RSS">üì° RSS</a>
                </div>
                <div class="theme-switcher">
                    <button class="theme-btn" onclick="setTheme('catppuccin')">‚òÄÔ∏è</button>
                    <button class="theme-btn" onclick="setTheme('dracula')">üåô</button>
                </div>
            </nav>
        </header>

        <main>
            {{ block "main" . }}{{ end }}
        </main>

        <footer>
            <p>¬© {{ now.Year }} {{ .Site.Title }} ‚Ä¢ Powered by Konkin</p>
        </footer>
    </div>

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "headline": "{{ .Title }}",
        "description": "{{ .Description }}",
          "author": {
          "@type": "Person",
          "name": "–ò–≤–∞–Ω"
        }
      }
    </script>
    <script>
        function setTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
        }
        
        // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–º—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        const savedTheme = localStorage.getItem('theme') || 'dracula';
        setTheme(savedTheme);
    </script>
    <div id="reading-progress"></div>

    <script>
    // –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä —á—Ç–µ–Ω–∏—è
    const progressBar = document.getElementById('reading-progress');

    function updateProgressBar() {
      const windowHeight = window.innerHeight;
      const documentHeight = document.documentElement.scrollHeight - windowHeight;
      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    
      const progress = (scrollTop / documentHeight) * 100;
      progressBar.style.width = progress + '%';
    }

    // –¢–æ–ª—å–∫–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö –ø–æ—Å—Ç–æ–≤
    if (document.querySelector('.post')) {
      progressBar.style.display = 'block';
      window.addEventListener('scroll', updateProgressBar);
      window.addEventListener('resize', updateProgressBar);
    }
    </script>
    <script src="{{ "js/analytics.js" | absURL }}"></script>
</body>
</html>
